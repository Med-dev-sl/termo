{"ast":null,"code":"import _objectSpread from\"C:/Users/ETUSL-CAPS/termo/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import'../App.css';import Modal from'../components/Modal';import Sidebar from'../components/Sidebar';import TermsManager from'../admin/TermsManager';import VocabularyCategoriesManager from'../admin/VocabularyCategoriesManager';import{db}from'../firebase';import{doc,getDoc}from'firebase/firestore';import{loginWithEmail,logout,auth}from'../firebase';import{onAuthStateChanged}from'firebase/auth';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ADMIN_EMAIL='mohamedsallu.sl@gmail.com';const ADMIN_DEFAULT_PASSWORD='P@$$w0rd';export default function AdminDashboard(){const[email,setEmail]=useState(ADMIN_EMAIL);const[password,setPassword]=useState(ADMIN_DEFAULT_PASSWORD);const[authorized,setAuthorized]=useState(false);const[loading,setLoading]=useState(true);const[modal,setModal]=useState({open:false,title:'',message:'',variant:'info'});const[fsStatus,setFsStatus]=useState('unknown');useEffect(()=>{const unsub=onAuthStateChanged(auth,user=>{if(user&&user.email===ADMIN_EMAIL){setAuthorized(true);}else{setAuthorized(false);}setLoading(false);});return()=>unsub();},[]);// when authorized, try a small Firestore read to check connectivity/permissions\nuseEffect(()=>{let mounted=true;async function checkFirestore(){if(!authorized)return;setFsStatus('checking');try{// attempt to read a small doc — adjust collection/doc to something that exists or is OK to read\nconst d=doc(db,'meta','status');const snap=await getDoc(d);if(!mounted)return;if(snap.exists()){setFsStatus('ok');}else{// doc missing is still success — Firestore responded\nsetFsStatus('ok');}}catch(err){console.error('Firestore check failed',err);if(!mounted)return;// show actionable modal for permission error\nsetFsStatus('error');setModal({open:true,variant:'error',title:'Firestore access error',message:\"Firestore read failed: \".concat(err.message||err,\".\\nThis usually means your Firestore security rules prevent reads for this user. See the console for details.\")});}}checkFirestore();return()=>{mounted=false;};},[authorized]);async function handleLogin(e){e.preventDefault();try{setLoading(true);const cred=await loginWithEmail(email,password);if(cred.user&&cred.user.email===ADMIN_EMAIL){setAuthorized(true);setModal({open:true,variant:'success',title:'Welcome',message:'You are signed in as admin.'});}else{// signed in but not the admin account\nsetModal({open:true,variant:'error',title:'Access denied',message:'This account is not permitted to access the admin dashboard.'});}}catch(err){console.error(err);setModal({open:true,variant:'error',title:'Login failed',message:err.message||String(err)});}finally{setLoading(false);}}async function handleLogout(){try{await logout();setAuthorized(false);setModal({open:true,variant:'info',title:'Signed out',message:'You have been signed out.'});}catch(err){console.error(err);setModal({open:true,variant:'error',title:'Logout failed',message:err.message||String(err)});}}function closeModal(){setModal(m=>_objectSpread(_objectSpread({},m),{},{open:false}));}// helper to show actionable firestore rules guidance in the modal\nfunction showRulesGuide(){const rules=\"rules_version = '2';\\nservice cloud.firestore {\\n  match /databases/{database}/documents {\\n    // Allow read access to any document for the specific admin email only\\n    match /{document=**} {\\n      allow read: if request.auth != null && request.auth.token.email == '\".concat(ADMIN_EMAIL,\"';\\n      // allow write can be restricted further \\u2014 be careful granting write\\n      allow write: if false;\\n    }\\n  }\\n}\");setModal({open:true,variant:'info',title:'Firestore rules to allow admin read',message:\"If you want this admin user to read Firestore from the client, add the following to your Firestore rules and deploy them:\\n\\n\".concat(rules,\"\\n\\nDeploy with: firebase deploy --only firestore:rules\")});}if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"auth-screen gradient-bg-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"auth-card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"auth-card-body\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"auth-title\",children:\"Checking credentials\\u2026\"})})})});}if(!authorized){return/*#__PURE__*/_jsxs(\"div\",{className:\"auth-screen gradient-bg-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"auth-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"auth-card-bar top\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-card-body\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"auth-title\",children:\"Admin login\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"auth-form\",onSubmit:handleLogin,children:[/*#__PURE__*/_jsxs(\"label\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn primary block\",type:\"submit\",children:\"Sign in as admin\"})]}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:'1rem',color:'#666',fontSize:'.9rem'},children:\"Note: this page only allows the admin email address to access the dashboard.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-card-bar bottom\"})]}),/*#__PURE__*/_jsx(Modal,{open:modal.open,title:modal.title,message:modal.message,onClose:closeModal,variant:modal.variant})]});}// authorized view with sidebar\nconst view=typeof window!=='undefined'?window.location.hash.replace('#',''):'';return/*#__PURE__*/_jsxs(\"div\",{className:\"auth-screen gradient-bg-full admin-layout\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(\"main\",{className:\"admin-main\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Admin Dashboard\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:handleLogout,children:\"Sign out\"})})]}),view==='terms'?/*#__PURE__*/_jsx(TermsManager,{}):view==='vocabulary_categories'?/*#__PURE__*/_jsx(VocabularyCategoriesManager,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FirestoreStatus,{db:db}),/*#__PURE__*/_jsxs(\"section\",{style:{marginTop:'1rem',background:'#fff',padding:'1rem',borderRadius:8},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Admin controls\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Welcome to the admin dashboard. Use the sidebar to navigate to different sections.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'0.75rem'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Firestore status:\"}),\" \",fsStatus,fsStatus==='error'&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'0.5rem',color:'#b93a3a'},children:[\"Permission denied when reading Firestore. To allow this admin user read access, you can update your Firestore rules.\",/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'0.5rem'},children:/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:showRulesGuide,children:\"Show rules to deploy\"})})]})]})]})]})]}),/*#__PURE__*/_jsx(Modal,{open:modal.open,title:modal.title,message:modal.message,onClose:closeModal,variant:modal.variant})]});}function FirestoreStatus(_ref){let{db}=_ref;const[status,setStatus]=useState('checking');useEffect(()=>{let mounted=true;async function check(){try{// try reading a small doc; it's ok if it doesn't exist\nconst ref=doc(db,'meta','status');const snap=await getDoc(ref);if(!mounted)return;if(snap.exists()){const data=snap.data();setStatus(\"connected \\u2014 \".concat(data.message||'ok'));}else{setStatus('connected — OK (no status doc)');}}catch(err){console.error('Firestore check failed',err);if(mounted)setStatus('error: '+(err.message||String(err)));}}check();return()=>{mounted=false;};},[db]);return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'0.6rem',color:'#444'},children:[\"Firestore: \",/*#__PURE__*/_jsx(\"strong\",{children:status})]});}","map":{"version":3,"names":["React","useEffect","useState","Modal","Sidebar","TermsManager","VocabularyCategoriesManager","db","doc","getDoc","loginWithEmail","logout","auth","onAuthStateChanged","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ADMIN_EMAIL","ADMIN_DEFAULT_PASSWORD","AdminDashboard","email","setEmail","password","setPassword","authorized","setAuthorized","loading","setLoading","modal","setModal","open","title","message","variant","fsStatus","setFsStatus","unsub","user","mounted","checkFirestore","d","snap","exists","err","console","error","concat","handleLogin","e","preventDefault","cred","String","handleLogout","closeModal","m","_objectSpread","showRulesGuide","rules","className","children","onSubmit","type","value","onChange","target","required","style","marginTop","color","fontSize","onClose","view","window","location","hash","replace","display","justifyContent","alignItems","marginBottom","onClick","FirestoreStatus","background","padding","borderRadius","_ref","status","setStatus","check","ref","data"],"sources":["C:/Users/ETUSL-CAPS/termo/src/screens/adminDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport '../App.css';\r\nimport Modal from '../components/Modal';\r\nimport Sidebar from '../components/Sidebar';\r\nimport TermsManager from '../admin/TermsManager';\r\nimport VocabularyCategoriesManager from '../admin/VocabularyCategoriesManager';\r\nimport { db } from '../firebase';\r\nimport { doc, getDoc } from 'firebase/firestore';\r\nimport { loginWithEmail, logout, auth } from '../firebase';\r\nimport { onAuthStateChanged } from 'firebase/auth';\r\n\r\nconst ADMIN_EMAIL = 'mohamedsallu.sl@gmail.com';\r\nconst ADMIN_DEFAULT_PASSWORD = 'P@$$w0rd';\r\n\r\nexport default function AdminDashboard() {\r\n  const [email, setEmail] = useState(ADMIN_EMAIL);\r\n  const [password, setPassword] = useState(ADMIN_DEFAULT_PASSWORD);\r\n  const [authorized, setAuthorized] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [modal, setModal] = useState({ open: false, title: '', message: '', variant: 'info' });\r\n  const [fsStatus, setFsStatus] = useState('unknown');\r\n\r\n  useEffect(() => {\r\n    const unsub = onAuthStateChanged(auth, user => {\r\n      if (user && user.email === ADMIN_EMAIL) {\r\n        setAuthorized(true);\r\n      } else {\r\n        setAuthorized(false);\r\n      }\r\n      setLoading(false);\r\n    });\r\n    return () => unsub();\r\n  }, []);\r\n\r\n  // when authorized, try a small Firestore read to check connectivity/permissions\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function checkFirestore() {\r\n      if (!authorized) return;\r\n      setFsStatus('checking');\r\n      try {\r\n        // attempt to read a small doc — adjust collection/doc to something that exists or is OK to read\r\n        const d = doc(db, 'meta', 'status');\r\n        const snap = await getDoc(d);\r\n        if (!mounted) return;\r\n        if (snap.exists()) {\r\n          setFsStatus('ok');\r\n        } else {\r\n          // doc missing is still success — Firestore responded\r\n          setFsStatus('ok');\r\n        }\r\n      } catch (err) {\r\n        console.error('Firestore check failed', err);\r\n        if (!mounted) return;\r\n        // show actionable modal for permission error\r\n        setFsStatus('error');\r\n        setModal({ open: true, variant: 'error', title: 'Firestore access error', message: `Firestore read failed: ${err.message || err}.\\nThis usually means your Firestore security rules prevent reads for this user. See the console for details.` });\r\n      }\r\n    }\r\n    checkFirestore();\r\n    return () => { mounted = false; };\r\n  }, [authorized]);\r\n\r\n  async function handleLogin(e) {\r\n    e.preventDefault();\r\n    try {\r\n      setLoading(true);\r\n      const cred = await loginWithEmail(email, password);\r\n      if (cred.user && cred.user.email === ADMIN_EMAIL) {\r\n        setAuthorized(true);\r\n        setModal({ open: true, variant: 'success', title: 'Welcome', message: 'You are signed in as admin.' });\r\n      } else {\r\n        // signed in but not the admin account\r\n        setModal({ open: true, variant: 'error', title: 'Access denied', message: 'This account is not permitted to access the admin dashboard.' });\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      setModal({ open: true, variant: 'error', title: 'Login failed', message: err.message || String(err) });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleLogout() {\r\n    try {\r\n      await logout();\r\n      setAuthorized(false);\r\n      setModal({ open: true, variant: 'info', title: 'Signed out', message: 'You have been signed out.' });\r\n    } catch (err) {\r\n      console.error(err);\r\n      setModal({ open: true, variant: 'error', title: 'Logout failed', message: err.message || String(err) });\r\n    }\r\n  }\r\n\r\n  function closeModal() { setModal(m => ({ ...m, open: false })); }\r\n\r\n  // helper to show actionable firestore rules guidance in the modal\r\n  function showRulesGuide() {\r\n    const rules = `rules_version = '2';\r\nservice cloud.firestore {\r\n  match /databases/{database}/documents {\r\n    // Allow read access to any document for the specific admin email only\r\n    match /{document=**} {\r\n      allow read: if request.auth != null && request.auth.token.email == '${ADMIN_EMAIL}';\r\n      // allow write can be restricted further — be careful granting write\r\n      allow write: if false;\r\n    }\r\n  }\r\n}`;\r\n    setModal({ open: true, variant: 'info', title: 'Firestore rules to allow admin read', message: `If you want this admin user to read Firestore from the client, add the following to your Firestore rules and deploy them:\\n\\n${rules}\\n\\nDeploy with: firebase deploy --only firestore:rules` });\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"auth-screen gradient-bg-full\">\r\n        <div className=\"auth-card\">\r\n          <div className=\"auth-card-body\">\r\n            <h3 className=\"auth-title\">Checking credentials…</h3>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!authorized) {\r\n    return (\r\n      <div className=\"auth-screen gradient-bg-full\">\r\n        <div className=\"auth-card\">\r\n          <div className=\"auth-card-bar top\" />\r\n          <div className=\"auth-card-body\">\r\n            <h3 className=\"auth-title\">Admin login</h3>\r\n            <form className=\"auth-form\" onSubmit={handleLogin}>\r\n              <label className=\"field\">\r\n                <span>Email</span>\r\n                <input type=\"email\" value={email} onChange={e => setEmail(e.target.value)} required />\r\n              </label>\r\n              <label className=\"field\">\r\n                <span>Password</span>\r\n                <input type=\"password\" value={password} onChange={e => setPassword(e.target.value)} required />\r\n              </label>\r\n              <button className=\"btn primary block\" type=\"submit\">Sign in as admin</button>\r\n            </form>\r\n            <p style={{ marginTop: '1rem', color: '#666', fontSize: '.9rem' }}>\r\n              Note: this page only allows the admin email address to access the dashboard.\r\n            </p>\r\n          </div>\r\n          <div className=\"auth-card-bar bottom\" />\r\n        </div>\r\n        <Modal open={modal.open} title={modal.title} message={modal.message} onClose={closeModal} variant={modal.variant} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // authorized view with sidebar\r\n  const view = typeof window !== 'undefined' ? window.location.hash.replace('#', '') : '';\r\n\r\n  return (\r\n    <div className=\"auth-screen gradient-bg-full admin-layout\">\r\n      <Sidebar />\r\n      <main className=\"admin-main\">\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\r\n          <h2>Admin Dashboard</h2>\r\n          <div>\r\n            <button className=\"btn\" onClick={handleLogout}>Sign out</button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Render view based on hash */}\r\n        {view === 'terms' ? (\r\n          <TermsManager />\r\n        ) : view === 'vocabulary_categories' ? (\r\n          <VocabularyCategoriesManager />\r\n        ) : (\r\n          <>\r\n            <FirestoreStatus db={db} />\r\n            <section style={{ marginTop: '1rem', background: '#fff', padding: '1rem', borderRadius: 8 }}>\r\n              <h3>Admin controls</h3>\r\n              <p>Welcome to the admin dashboard. Use the sidebar to navigate to different sections.</p>\r\n              <div style={{ marginTop: '0.75rem' }}>\r\n                <strong>Firestore status:</strong> {fsStatus}\r\n                {fsStatus === 'error' && (\r\n                  <div style={{ marginTop: '0.5rem', color: '#b93a3a' }}>\r\n                    Permission denied when reading Firestore. To allow this admin user read access, you can update your Firestore rules.\r\n                    <div style={{ marginTop: '0.5rem' }}>\r\n                      <button className=\"btn\" onClick={showRulesGuide}>Show rules to deploy</button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </section>\r\n          </>\r\n        )}\r\n      </main>\r\n      <Modal open={modal.open} title={modal.title} message={modal.message} onClose={closeModal} variant={modal.variant} />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction FirestoreStatus({ db }) {\r\n  const [status, setStatus] = useState('checking');\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function check() {\r\n      try {\r\n        // try reading a small doc; it's ok if it doesn't exist\r\n        const ref = doc(db, 'meta', 'status');\r\n        const snap = await getDoc(ref);\r\n        if (!mounted) return;\r\n        if (snap.exists()) {\r\n          const data = snap.data();\r\n          setStatus(`connected — ${data.message || 'ok'}`);\r\n        } else {\r\n          setStatus('connected — OK (no status doc)');\r\n        }\r\n      } catch (err) {\r\n        console.error('Firestore check failed', err);\r\n        if (mounted) setStatus('error: ' + (err.message || String(err)));\r\n      }\r\n    }\r\n    check();\r\n    return () => { mounted = false; };\r\n  }, [db]);\r\n\r\n  return (\r\n    <div style={{ marginBottom: '0.6rem', color: '#444' }}>\r\n      Firestore: <strong>{status}</strong>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}