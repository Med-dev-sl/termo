{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ETUSL-CAPS\\\\termo\\\\src\\\\screens\\\\adminDashboard.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport '../App.css';\nimport Modal from '../components/Modal';\nimport Sidebar from '../components/Sidebar';\nimport TermsManager from '../admin/TermsManager';\nimport VocabularyCategoriesManager from '../admin/VocabularyCategoriesManager';\nimport { db } from '../firebase';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { loginWithEmail, logout, auth } from '../firebase';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ADMIN_EMAIL = 'mohamedsallu.sl@gmail.com';\nconst ADMIN_DEFAULT_PASSWORD = 'P@$$w0rd';\nexport default function AdminDashboard() {\n  _s();\n  const [email, setEmail] = useState(ADMIN_EMAIL);\n  const [password, setPassword] = useState(ADMIN_DEFAULT_PASSWORD);\n  const [authorized, setAuthorized] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [modal, setModal] = useState({\n    open: false,\n    title: '',\n    message: '',\n    variant: 'info'\n  });\n  const [fsStatus, setFsStatus] = useState('unknown');\n  useEffect(() => {\n    const unsub = onAuthStateChanged(auth, user => {\n      if (user && user.email === ADMIN_EMAIL) {\n        setAuthorized(true);\n      } else {\n        setAuthorized(false);\n      }\n      setLoading(false);\n    });\n    return () => unsub();\n  }, []);\n\n  // when authorized, try a small Firestore read to check connectivity/permissions\n  useEffect(() => {\n    let mounted = true;\n    async function checkFirestore() {\n      if (!authorized) return;\n      setFsStatus('checking');\n      try {\n        // attempt to read a small doc — adjust collection/doc to something that exists or is OK to read\n        const d = doc(db, 'meta', 'status');\n        const snap = await getDoc(d);\n        if (!mounted) return;\n        if (snap.exists()) {\n          setFsStatus('ok');\n        } else {\n          // doc missing is still success — Firestore responded\n          setFsStatus('ok');\n        }\n      } catch (err) {\n        console.error('Firestore check failed', err);\n        if (!mounted) return;\n        // show actionable modal for permission error\n        setFsStatus('error');\n        setModal({\n          open: true,\n          variant: 'error',\n          title: 'Firestore access error',\n          message: `Firestore read failed: ${err.message || err}.\\nThis usually means your Firestore security rules prevent reads for this user. See the console for details.`\n        });\n      }\n    }\n    checkFirestore();\n    return () => {\n      mounted = false;\n    };\n  }, [authorized]);\n  async function handleLogin(e) {\n    e.preventDefault();\n    try {\n      setLoading(true);\n      const cred = await loginWithEmail(email, password);\n      if (cred.user && cred.user.email === ADMIN_EMAIL) {\n        setAuthorized(true);\n        setModal({\n          open: true,\n          variant: 'success',\n          title: 'Welcome',\n          message: 'You are signed in as admin.'\n        });\n      } else {\n        // signed in but not the admin account\n        setModal({\n          open: true,\n          variant: 'error',\n          title: 'Access denied',\n          message: 'This account is not permitted to access the admin dashboard.'\n        });\n      }\n    } catch (err) {\n      console.error(err);\n      setModal({\n        open: true,\n        variant: 'error',\n        title: 'Login failed',\n        message: err.message || String(err)\n      });\n    } finally {\n      setLoading(false);\n    }\n  }\n  async function handleLogout() {\n    try {\n      await logout();\n      setAuthorized(false);\n      setModal({\n        open: true,\n        variant: 'info',\n        title: 'Signed out',\n        message: 'You have been signed out.'\n      });\n    } catch (err) {\n      console.error(err);\n      setModal({\n        open: true,\n        variant: 'error',\n        title: 'Logout failed',\n        message: err.message || String(err)\n      });\n    }\n  }\n  function closeModal() {\n    setModal(m => ({\n      ...m,\n      open: false\n    }));\n  }\n\n  // helper to show actionable firestore rules guidance in the modal\n  function showRulesGuide() {\n    const rules = `rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    // Allow read access to any document for the specific admin email only\n    match /{document=**} {\n      allow read: if request.auth != null && request.auth.token.email == '${ADMIN_EMAIL}';\n      // allow write can be restricted further — be careful granting write\n      allow write: if false;\n    }\n  }\n}`;\n    setModal({\n      open: true,\n      variant: 'info',\n      title: 'Firestore rules to allow admin read',\n      message: `If you want this admin user to read Firestore from the client, add the following to your Firestore rules and deploy them:\\n\\n${rules}\\n\\nDeploy with: firebase deploy --only firestore:rules`\n    });\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-screen gradient-bg-full\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auth-card-body\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"auth-title\",\n            children: \"Checking credentials\\u2026\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this);\n  }\n  if (!authorized) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-screen gradient-bg-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auth-card-bar top\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auth-card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"auth-title\",\n            children: \"Admin login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"auth-form\",\n            onSubmit: handleLogin,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                value: email,\n                onChange: e => setEmail(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                value: password,\n                onChange: e => setPassword(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn primary block\",\n              type: \"submit\",\n              children: \"Sign in as admin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              marginTop: '1rem',\n              color: '#666',\n              fontSize: '.9rem'\n            },\n            children: \"Note: this page only allows the admin email address to access the dashboard.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auth-card-bar bottom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        open: modal.open,\n        title: modal.title,\n        message: modal.message,\n        onClose: closeModal,\n        variant: modal.variant\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this);\n  }\n\n  // authorized view with sidebar\n  const view = typeof window !== 'undefined' ? window.location.hash.replace('#', '') : '';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-screen gradient-bg-full admin-layout\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"admin-main\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginBottom: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Admin Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            onClick: handleLogout,\n            children: \"Sign out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), view === 'terms' ? /*#__PURE__*/_jsxDEV(TermsManager, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(FirestoreStatus, {\n          db: db\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          style: {\n            marginTop: '1rem',\n            background: '#fff',\n            padding: '1rem',\n            borderRadius: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Admin controls\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Welcome to the admin dashboard. Use the sidebar to navigate to different sections.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '0.75rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Firestore status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this), \" \", fsStatus, fsStatus === 'error' && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '0.5rem',\n                color: '#b93a3a'\n              },\n              children: [\"Permission denied when reading Firestore. To allow this admin user read access, you can update your Firestore rules.\", /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '0.5rem'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn\",\n                  onClick: showRulesGuide,\n                  children: \"Show rules to deploy\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: modal.open,\n      title: modal.title,\n      message: modal.message,\n      onClose: closeModal,\n      variant: modal.variant\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminDashboard, \"2iaBs5US+x/RG2OxguiqqPKxHqQ=\");\n_c = AdminDashboard;\nfunction FirestoreStatus({\n  db\n}) {\n  _s2();\n  const [status, setStatus] = useState('checking');\n  useEffect(() => {\n    let mounted = true;\n    async function check() {\n      try {\n        // try reading a small doc; it's ok if it doesn't exist\n        const ref = doc(db, 'meta', 'status');\n        const snap = await getDoc(ref);\n        if (!mounted) return;\n        if (snap.exists()) {\n          const data = snap.data();\n          setStatus(`connected — ${data.message || 'ok'}`);\n        } else {\n          setStatus('connected — OK (no status doc)');\n        }\n      } catch (err) {\n        console.error('Firestore check failed', err);\n        if (mounted) setStatus('error: ' + (err.message || String(err)));\n      }\n    }\n    check();\n    return () => {\n      mounted = false;\n    };\n  }, [db]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginBottom: '0.6rem',\n      color: '#444'\n    },\n    children: [\"Firestore: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n      children: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 18\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 224,\n    columnNumber: 5\n  }, this);\n}\n_s2(FirestoreStatus, \"rV8qZJOarktnP8Z/XRg6pxCOGnI=\");\n_c2 = FirestoreStatus;\nvar _c, _c2;\n$RefreshReg$(_c, \"AdminDashboard\");\n$RefreshReg$(_c2, \"FirestoreStatus\");","map":{"version":3,"names":["React","useEffect","useState","Modal","Sidebar","TermsManager","VocabularyCategoriesManager","db","doc","getDoc","loginWithEmail","logout","auth","onAuthStateChanged","jsxDEV","_jsxDEV","Fragment","_Fragment","ADMIN_EMAIL","ADMIN_DEFAULT_PASSWORD","AdminDashboard","_s","email","setEmail","password","setPassword","authorized","setAuthorized","loading","setLoading","modal","setModal","open","title","message","variant","fsStatus","setFsStatus","unsub","user","mounted","checkFirestore","d","snap","exists","err","console","error","handleLogin","e","preventDefault","cred","String","handleLogout","closeModal","m","showRulesGuide","rules","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","required","style","marginTop","color","fontSize","onClose","view","window","location","hash","replace","display","justifyContent","alignItems","marginBottom","onClick","FirestoreStatus","background","padding","borderRadius","_c","_s2","status","setStatus","check","ref","data","_c2","$RefreshReg$"],"sources":["C:/Users/ETUSL-CAPS/termo/src/screens/adminDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport '../App.css';\r\nimport Modal from '../components/Modal';\r\nimport Sidebar from '../components/Sidebar';\r\nimport TermsManager from '../admin/TermsManager';\r\nimport VocabularyCategoriesManager from '../admin/VocabularyCategoriesManager';\r\nimport { db } from '../firebase';\r\nimport { doc, getDoc } from 'firebase/firestore';\r\nimport { loginWithEmail, logout, auth } from '../firebase';\r\nimport { onAuthStateChanged } from 'firebase/auth';\r\n\r\nconst ADMIN_EMAIL = 'mohamedsallu.sl@gmail.com';\r\nconst ADMIN_DEFAULT_PASSWORD = 'P@$$w0rd';\r\n\r\nexport default function AdminDashboard() {\r\n  const [email, setEmail] = useState(ADMIN_EMAIL);\r\n  const [password, setPassword] = useState(ADMIN_DEFAULT_PASSWORD);\r\n  const [authorized, setAuthorized] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [modal, setModal] = useState({ open: false, title: '', message: '', variant: 'info' });\r\n  const [fsStatus, setFsStatus] = useState('unknown');\r\n\r\n  useEffect(() => {\r\n    const unsub = onAuthStateChanged(auth, user => {\r\n      if (user && user.email === ADMIN_EMAIL) {\r\n        setAuthorized(true);\r\n      } else {\r\n        setAuthorized(false);\r\n      }\r\n      setLoading(false);\r\n    });\r\n    return () => unsub();\r\n  }, []);\r\n\r\n  // when authorized, try a small Firestore read to check connectivity/permissions\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function checkFirestore() {\r\n      if (!authorized) return;\r\n      setFsStatus('checking');\r\n      try {\r\n        // attempt to read a small doc — adjust collection/doc to something that exists or is OK to read\r\n        const d = doc(db, 'meta', 'status');\r\n        const snap = await getDoc(d);\r\n        if (!mounted) return;\r\n        if (snap.exists()) {\r\n          setFsStatus('ok');\r\n        } else {\r\n          // doc missing is still success — Firestore responded\r\n          setFsStatus('ok');\r\n        }\r\n      } catch (err) {\r\n        console.error('Firestore check failed', err);\r\n        if (!mounted) return;\r\n        // show actionable modal for permission error\r\n        setFsStatus('error');\r\n        setModal({ open: true, variant: 'error', title: 'Firestore access error', message: `Firestore read failed: ${err.message || err}.\\nThis usually means your Firestore security rules prevent reads for this user. See the console for details.` });\r\n      }\r\n    }\r\n    checkFirestore();\r\n    return () => { mounted = false; };\r\n  }, [authorized]);\r\n\r\n  async function handleLogin(e) {\r\n    e.preventDefault();\r\n    try {\r\n      setLoading(true);\r\n      const cred = await loginWithEmail(email, password);\r\n      if (cred.user && cred.user.email === ADMIN_EMAIL) {\r\n        setAuthorized(true);\r\n        setModal({ open: true, variant: 'success', title: 'Welcome', message: 'You are signed in as admin.' });\r\n      } else {\r\n        // signed in but not the admin account\r\n        setModal({ open: true, variant: 'error', title: 'Access denied', message: 'This account is not permitted to access the admin dashboard.' });\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      setModal({ open: true, variant: 'error', title: 'Login failed', message: err.message || String(err) });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleLogout() {\r\n    try {\r\n      await logout();\r\n      setAuthorized(false);\r\n      setModal({ open: true, variant: 'info', title: 'Signed out', message: 'You have been signed out.' });\r\n    } catch (err) {\r\n      console.error(err);\r\n      setModal({ open: true, variant: 'error', title: 'Logout failed', message: err.message || String(err) });\r\n    }\r\n  }\r\n\r\n  function closeModal() { setModal(m => ({ ...m, open: false })); }\r\n\r\n  // helper to show actionable firestore rules guidance in the modal\r\n  function showRulesGuide() {\r\n    const rules = `rules_version = '2';\r\nservice cloud.firestore {\r\n  match /databases/{database}/documents {\r\n    // Allow read access to any document for the specific admin email only\r\n    match /{document=**} {\r\n      allow read: if request.auth != null && request.auth.token.email == '${ADMIN_EMAIL}';\r\n      // allow write can be restricted further — be careful granting write\r\n      allow write: if false;\r\n    }\r\n  }\r\n}`;\r\n    setModal({ open: true, variant: 'info', title: 'Firestore rules to allow admin read', message: `If you want this admin user to read Firestore from the client, add the following to your Firestore rules and deploy them:\\n\\n${rules}\\n\\nDeploy with: firebase deploy --only firestore:rules` });\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"auth-screen gradient-bg-full\">\r\n        <div className=\"auth-card\">\r\n          <div className=\"auth-card-body\">\r\n            <h3 className=\"auth-title\">Checking credentials…</h3>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!authorized) {\r\n    return (\r\n      <div className=\"auth-screen gradient-bg-full\">\r\n        <div className=\"auth-card\">\r\n          <div className=\"auth-card-bar top\" />\r\n          <div className=\"auth-card-body\">\r\n            <h3 className=\"auth-title\">Admin login</h3>\r\n            <form className=\"auth-form\" onSubmit={handleLogin}>\r\n              <label className=\"field\">\r\n                <span>Email</span>\r\n                <input type=\"email\" value={email} onChange={e => setEmail(e.target.value)} required />\r\n              </label>\r\n              <label className=\"field\">\r\n                <span>Password</span>\r\n                <input type=\"password\" value={password} onChange={e => setPassword(e.target.value)} required />\r\n              </label>\r\n              <button className=\"btn primary block\" type=\"submit\">Sign in as admin</button>\r\n            </form>\r\n            <p style={{ marginTop: '1rem', color: '#666', fontSize: '.9rem' }}>\r\n              Note: this page only allows the admin email address to access the dashboard.\r\n            </p>\r\n          </div>\r\n          <div className=\"auth-card-bar bottom\" />\r\n        </div>\r\n        <Modal open={modal.open} title={modal.title} message={modal.message} onClose={closeModal} variant={modal.variant} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // authorized view with sidebar\r\n  const view = typeof window !== 'undefined' ? window.location.hash.replace('#', '') : '';\r\n\r\n  return (\r\n    <div className=\"auth-screen gradient-bg-full admin-layout\">\r\n      <Sidebar />\r\n      <main className=\"admin-main\">\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\r\n          <h2>Admin Dashboard</h2>\r\n          <div>\r\n            <button className=\"btn\" onClick={handleLogout}>Sign out</button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Render view based on hash */}\r\n        {view === 'terms' ? (\r\n          <TermsManager />\r\n        ) : (\r\n          <>\r\n            <FirestoreStatus db={db} />\r\n            <section style={{ marginTop: '1rem', background: '#fff', padding: '1rem', borderRadius: 8 }}>\r\n              <h3>Admin controls</h3>\r\n              <p>Welcome to the admin dashboard. Use the sidebar to navigate to different sections.</p>\r\n              <div style={{ marginTop: '0.75rem' }}>\r\n                <strong>Firestore status:</strong> {fsStatus}\r\n                {fsStatus === 'error' && (\r\n                  <div style={{ marginTop: '0.5rem', color: '#b93a3a' }}>\r\n                    Permission denied when reading Firestore. To allow this admin user read access, you can update your Firestore rules.\r\n                    <div style={{ marginTop: '0.5rem' }}>\r\n                      <button className=\"btn\" onClick={showRulesGuide}>Show rules to deploy</button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </section>\r\n          </>\r\n        )}\r\n      </main>\r\n      <Modal open={modal.open} title={modal.title} message={modal.message} onClose={closeModal} variant={modal.variant} />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction FirestoreStatus({ db }) {\r\n  const [status, setStatus] = useState('checking');\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function check() {\r\n      try {\r\n        // try reading a small doc; it's ok if it doesn't exist\r\n        const ref = doc(db, 'meta', 'status');\r\n        const snap = await getDoc(ref);\r\n        if (!mounted) return;\r\n        if (snap.exists()) {\r\n          const data = snap.data();\r\n          setStatus(`connected — ${data.message || 'ok'}`);\r\n        } else {\r\n          setStatus('connected — OK (no status doc)');\r\n        }\r\n      } catch (err) {\r\n        console.error('Firestore check failed', err);\r\n        if (mounted) setStatus('error: ' + (err.message || String(err)));\r\n      }\r\n    }\r\n    check();\r\n    return () => { mounted = false; };\r\n  }, [db]);\r\n\r\n  return (\r\n    <div style={{ marginBottom: '0.6rem', color: '#444' }}>\r\n      Firestore: <strong>{status}</strong>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}